　　王世充，字行满，本来姓支，是西域的胡人。寄居在新丰。他祖父支颓耨年纪轻轻就死了。他父亲支收跟随他的改嫁到霸城王家的母亲生活，因而就改为姓王，官职升到汴州长史。王世充广泛阅读了各类书籍，尤其爱好兵法以及卜卦算命、推算天文历法方面的学问。隋文帝开皇中叶，按战功被授予仪同三司的官职，接着提升为兵部员外郎。他善于向朝廷陈事进言，通晓各种律令条文，因而利用法律条文徇私作弊，随心所欲。有的时候有人批驳他，他就巧言诡辩文过饰非，言辞激烈，人们虽然明知他不正确又没有谁能使他认错。
　　隋炀帝大业年间，提升为江都丞，兼任江都宫监。当时炀帝多次巡视江都，王世充善于观察炀帝的脸色，奉承谄媚顺从他的心意，每次上朝谈论政事，炀帝总是说好。于是制作玉石雕刻和风景彩画，诈称远方的珍贵工艺品，献给炀帝讨好，因此炀帝更加宠信他。王世充知道隋朝的政局将会混乱，就暗地结交英雄豪杰，广泛收买人心，那些犯罪坐牢的人，都用曲解法律的办法予以释放，从而显示私人的恩惠。后来杨玄感叛乱，吴人朱燮、晋陵人管崇在江南起兵响应，自称将军，聚集十多万人马。隋朝朝廷派遣将军吐万绪、鱼俱罗等讨伐，没有取胜。王世充作为吐万绪等的偏将，在江都招募了一万多人马，连续进攻打败了叛军。每次打了胜仗，都算作部下的功劳，所得到的战利物品，都让给普通战士，因此人人抢着为他卖力，在平叛中他的功劳最多。
　　大业十年(614)，齐郡的叛军统帅孟让从山东长白山出发侵犯各个州郡，到盱眙，发展到十多万人马。王世充率领部队抵御，以都梁山为据点，设置五道营栅，敌我相对而不交战，还扬言撤退，部队表现出疲惫不堪毫无战斗力的样子。孟让耻笑地说“：王世充是个只懂法令条文的小官，哪能带兵打仗？我要活捉他，一直打到江都去。”这时当地百姓都住进了部队营垒，遍地没有东西可抢，叛军慢慢地没有吃的，又为营栅挡住道路而伤脑筋，不能向南方进军，就分兵包围王世充的五处营栅。王世充每天出兵打一下，表面装作失利，跑回营栅。像这样搞了好几天，孟让更加小看他，就慢慢分派人马到南边去搜抢财物，留下的兵力只够围住营栅。王世充知道敌人放松了警惕，就在军营中填平了灶坑，拆下了帷帐，摆设起方阵，四面朝外，拔掉栅栏出击，奋力作战，大败敌军，孟让带着几十个人悄悄逃走了，杀死了一万多人，俘虏了十多万人。炀帝认为王世充有将帅的才干谋略，又派他率领部队讨伐各个小股叛军，所到之处全部荡平。
　　大业十一年(615)，突厥人在雁门围困了炀帝。王世充带领江都的全部人马准备到雁门赴救国难，在队伍里蓬头垢面，痛哭得失去常态，日夜不脱盔甲，躺在草上睡觉。炀帝听到这些，认为他忠诚，更信任他。大业十二年(616)，升任江都通守。当时厌次人格谦当了多年盗匪，带着十多万人在豆子..一带活动，被太仆卿杨义臣杀掉，王世充统率部队攻打格谦的残存队伍，打败了他们。又出兵到南阳攻打卢明月，俘虏了好几万人。班师回到江都，炀帝非常高兴，亲自举杯赏赐他。到李密打下洛口仓，进逼东都洛阳，炀帝特令王世充统帅大队人马，到洛口抵御李密，前后交战一百多次，还不分胜负。炀帝又派人到部队任命王世充为将军，催促打败李密。王世充带领部队渡过洛水跟李密作战，吃了败仗，被淹死了一万多人，就率领余部返回河阳。碰上天气寒冷大雪纷飞，沿途冻死了好几万人，等到抵达河阳，只剩一千来人。王世充自我囚禁起来向炀帝请罪，越王杨侗派遣使者释放了他，召回洛阳，驻扎在含嘉仓城，收集逃散的士卒，又有了一万多人。
　　不久，宇文化及杀死炀帝举行叛乱，太府卿元文都、武卫将军皇甫无逸、右司郎中卢楚拥戴越王杨侗在东都洛阳继承了皇位，授予王世充吏部尚书的官职，封郑国公的爵位。元文都对卢楚等人说：“如今宇文化及杀君叛逆，仇未报耻未雪，我虽然复仇心切，但力不从心。从国家大局考虑，不如用高官笼络李密，拿国库的资财暂时利诱他，让李密去攻打宇文化及，使得两伙叛军自相残杀，宇文化及被打败后，李密的兵马必然也疲惫不堪了。再说李密的士卒得到了朝廷的奖赏，担任着朝廷官职，朝廷多跟他们建立感情，容易运用离间之计，我们的军队养精蓄锐来钻他们疲惫困乏的空子，那么李密也是可以对付的。”卢楚等人认为应当如此。当天就派使者授予李密太尉、尚书令的官职，命令他讨伐宇文化及。
　　李密于是向朝廷称臣，接受朝廷命令，带兵到黎阳抵御宇文化及，凡是打了胜仗就派遣使者向朝廷报捷，人们都很高兴。王世充单单对他手下的各将领说“：元文都那帮人，写写划划文官而已，我看事态的趋势，一定会被李密抓起来。再说我的部队多次跟李密作战，杀死他的父兄子弟，前前后后已经很多，一旦成为他的下属，我们这些人就没有生路了！”说这番话是为了激怒他的将士们。元文都知道后非常恐惧，跟卢楚等人商议，趁王世充上朝的时候，布下伏兵杀掉他，已经约定时间了。纳言段达平庸怯懦，害怕这事办不成功，就派他的女婿张志把卢楚等人的计谋告诉了王世充。当天夜晚王世充带领人马包围宫城，将军费曜、田..等人在东太阳门外迎战，费曜战败，王世充夺取城门冲了进去，将军皇甫无逸只身逃脱，抓住卢楚杀了。这时皇宫大门紧闭，王世充派人敲着宫门对杨侗说“：元文都他们要挟持皇上投降李密，段达得知后告诉了我，我不敢背叛朝廷，是来讨伐背叛朝廷的人哩。”开始，元文都听到发生变故，来到乾阳殿伺候杨侗，指挥部队保卫，命令将士们凭借城池抵御兵变。段达诈称杨侗的命令捉住元文都押送给王世充，一到就乱棍打死。段达又诈称杨侗的命令，打开宫门迎接王世充，王世充派人换下了宫中的全部警卫人员，然后拜见杨侗道歉，说“：元文都等人犯下说不完的罪行，阴谋制造内乱，情况紧急才采取这种办法，我是不敢背叛国家的。”杨侗跟他誓约结盟。当天，升任尚书左仆射，总管监督朝廷内外各项军务。王世充离开含嘉城，搬进尚书省官署居住，独揽朝政大权。任命他的哥哥王世恽为内史令，住进皇宫，侄子后辈都握有兵权，镇守各地城镇。
　　没过多久，李密打败宇文化及班师回朝，他的精兵骏马多半战死，剩下的疲劳困乏。王世充想乘机攻打他，又怕人心不齐，就借助鬼神征兆，说是梦见了周公。于是在洛水岸边修建了周公祠，叫巫师宣扬周公命令尚书左仆射赶快讨伐李密，会立大功，不然兵士们就会全部死于瘟疫。王世充的兵士多半是楚地人，习俗上相信欺骗迷惑人心的怪诞言词，大家都请求作战。王世充挑选精锐骁勇的人马，有两万多名将士，两千多匹战马，在洛水南边扎营。李密在偃师的北山头驻扎。当时李密刚刚打败宇文化及，有渺视王世充的情绪，不筑壁垒工事。王世充在夜间派遣三百多名骑兵秘密进入北山，埋伏在山谷中，命令全体将士马要喂饱，人要吃好，黎明时分进逼李密。李密出兵应战，队形还没摆好就打起来了。王世充埋伏的骑兵发起冲锋，居高临下，冲向李密的营地，放火焚烧他的军营，李密的队伍逃散了，他的将领张童仁、陈智略投降了，乘胜追击打下了偃师，李密逃跑退守洛口。当初，王世充的哥哥王世伟和儿子王玄应跟随宇文化及到东郡，李密打败宇文化及后捉住他们关在偃师城里，到这里都找到了。还拘捕了李密的长史邴元真的老婆孩子、司马郑虔象的母亲以及各个部将的后辈，对他们都进行安抚慰问，一个个单独地命令他们秘密动员父亲兄长投诚。王世充继续进军，在洛口驻下，邴元真、郑虔象等人猝然哗变接应王世充，李密带着几十个人逃往河阳，率领残部入关朝见唐高祖。王世充活捉了他的全部人马，整顿部队返回朝廷。
　　杨侗提升王世充为太尉，把尚书省作为他的官署，配齐属吏。王世充在官署门外张贴了三份布告：一份招聘文才学问足以帮助处理政务的文职人员，一份招聘武艺超群敢于冲锋陷阵的武职人员，一份招聘善于审理冤案、疑案的司法人员。从此呈递书函当面介绍以推荐或自荐的，每天都有几百人，王世充一概亲自考核，殷勤慰问款待。他爱搞小恩小惠，从上至下直到部队的普通士卒，都用夸饰动听的言词进行引诱。当时的有识之士见他口是心非，断定他怀有二心。王世充有一次在杨侗跟前吃他赏赐的食物，回家大吐一场，怀疑是食物中毒造成的，从此以后不再朝见杨侗，跟他不打照面了。他派遣云定兴、段达向杨侗禀奏，要求赐给衣服、朱户、纳陛、车马、乐器、虎贲、斧钺、弓矢、禾巨鬯等九种器物，发出了夺取政权的信号。
　　唐高祖武德二年(619)三月，杨侗只得当面发给诏书任命王世充为相国，统管百官，封为郑王，如数赐给九种器物。有一个法号叫桓法嗣的道士，自称善于解释占卜图书，于是呈上《孔子闭房记》，图画为一个男人手持竹竿赶羊，解释说：“隋朝，皇帝姓杨。干一嘛，合起来是个‘王’字。王在羊后，预示相国取代隋朝当皇帝。”接着拿出《庄子人间世》、《德充符》两篇呈递给王世充，解释说“：上篇谈‘世’，下篇谈‘充’，这就是相国的名嘛，预示您应当恩德遍布人间，顺应符命当天子。”王世充十分高兴地说“：这是上天的旨意呀。”拜了两拜接过图谶，立即任命桓法嗣为谏议大夫。王世充又捕捉各种鸟雀，把写好所谓符命的帛系在它们的颈子上，一只一只地放飞。打下这种鸟雀前来进献的人，也授予官职头衔。段达、云定兴等人把这些符命送进皇宫对杨侗展示说：“天命不是凡间小事，郑王功德很高，请您禅让皇位，仿效唐尧、虞舜的榜样。”杨侗愤怒地说“：这天下是高祖的天下，如果我隋朝的气数还没有衰竭，这种话就不该讲，如果天意要改朝换代，那还谈什么禅让不禅让？您们各位都是先帝的老臣，突然说出这种话，我真失望啊！”段达等人没有谁不流泪。王世充又派人对杨侗说“：现在国内还没有平定，必须有个年长的君主，等到天下太平无事了，恢复您这圣明的皇上。一定遵守以前的盟约，决不违背。”
　　同年四月，冒充杨侗发出诏书把隋朝帝位让给王世充，王世充派遣哥哥王世恽到含凉殿废除了杨侗，违法地登上了皇帝宝座，建立年号叫开明，国号叫郑。先封族人王隆为淮阳王，王整为东郡王，王楷为冯翊王，王素为乐安王。再封叔父王琼为陈王；哥哥王世衡为秦王，王世伟为楚王，王世恽为齐王。还封王琼的儿子王辩为杞王；王世衡的儿子王虔寿为蔡王；王世伟的儿子王弘烈为魏王，王行本为荆王，王琬为代王；王世恽的儿子王仁则为唐王，王道诚为卫王，王道询为赵王，王道眣为燕王；他哥哥王世师的儿子王太为宋王，王君度为越王。立儿子王玄应为皇太子，封儿子王玄恕为汉王。王世充每当接受群臣朝见处理政务，都要情意恳切地指教一番，语言重复，千头万绪，朝廷所有侍奉他的官员，都为他的频繁差遣而疲惫不堪。他有时带上几个随从人员到通衢要道上巡视，并不布置警戒禁止行人，百姓只让让路就行了，拉紧马缰慢步行走，对百姓们说“：以往的皇帝高坐在宫廷里头，民间的情况，无法了解透彻。我王世充不是贪恋皇位，根本目的是要挽救艰危的时局，我现在应该像一个州刺史，每件事情都要亲自处理，应该跟黎民百姓一起评论朝政得失。担心宫门禁令有着限制，大家的意见传不进去，如今在顺天门外安置座位处理政务。”又命令在西朝堂受理诉讼案件，在东朝堂听取批评建议。于是呈递书信陈述意见，每天有几百人，书信奏疏已很烦杂，考虑难得周全，几天之后就不再出宫。
　　同年五月，王世充的礼部尚书裴仁基以及他的儿子左辅大将军裴行俨、尚书左丞宇文儒童等几十人商议处死王世充，再次拥立杨侗为皇帝。事情泄露，全被杀害，灭绝他们的三族。六月，王世恽趁机而鼓动王世充杀掉杨侗，以使断绝人们复辟的念头。王世充派遣自己的侄儿王行本用鸩毒杀害了杨侗，给了个称号叫恭皇帝。杨侗的将军罗士信带领一千多个士卒投降。十月，王世充率领人马向东攻占土地，打到滑州，接着带兵来到黎阳。十一月，窦建德攻入王世充的殷州，屠杀抢劫当地居民，焚烧王世充的粮仓，作为对黎阳一仗失利的报复。
　　武德三年(620)二月，王世充的殿中监豆卢达投降李唐朝廷。王世充见人心一天一天散失，就用酷刑严厉控制，家里有一个人逃跑，全家不论老少都株连被杀，父子、兄弟、夫妻之间只要告发就可免罪。又命令五家为一保，互相监督，如果有人全家叛逃而邻居没有发觉，四周的邻居都要处死。处死的事接连不断，人们叛逃越来越厉害，甚至上山砍柴的人，出去回来都有时间限制，弄得公家私人人人自危，都无法生活。并且把宫廷作为大监狱，只要产生怀疑，就把人家连同家属捆绑起来送进宫廷关押。每当派遣将领出外作战，也把他的亲属拘留在宫里作为人质。被囚禁的人一个紧挨一个，不少于一万人，没有食物，饥饿而死的一天几十人。王世充招兵打仗没完没了，库存的粮食很快吃光，城里的人吃人肉。有的人抓来泥土放进瓦瓮，用水淘洗，沙石沉在底下，取出浮在上面的泥浆，把糠麸掺在里头，做成饼子来吃，人人都身体肿胀而腿脚发软，一个个躺在道路上。王世充的尚书郎卢君业、郭子高等人都饿死在山沟里。
　　同年七月，秦王李世民率领军队进攻王世充，到达新安，王世充各城镇守军纷纷投降。八月，秦王在青城宫摆开了战斗阵式，王世充统率全部军队抵御，隔着涧水说：“隋朝末年死丧祸乱不断发生，国家分崩离析，长安、洛阳，各有管辖区域，我只想守住自己的地盘，不想向西扩展。熊、..二州的距离，相距并不遥远，如果想要得到，难道不是想要就要的事？我愿结为友好邻邦，所以没有这样做。秦王您才是对我大举突然袭击，老远地跑到我的地盘上来，靠着三崤山的崎岖小道，千里迢迢运送粮草，在这种情况下出兵征战，我还看不出那怎么能取胜。”太宗李世民对王世充说：“全国各地，都接受我大唐制度，只有你先生执迷不悟，单单地阻止我大唐的声威教化。东都洛阳的百姓，一再请求我皇家军队，我关中的正义之师，感怀恩德愿尽力拼杀。皇上几次没有答应百姓的请求，这次才出兵讨伐有罪的人来抚慰天下民众。你如果变祸为福前来投降，那么富贵就有保障，如想抗拒，就没有时间多说了。”王世充无话回答。太宗分头派遣各路将士进攻王世充的城镇，一打就胜。九月，王君廓攻克王世充的頧辕县，一直向东攻占到管城才返回，于是河南的各个州县纷纷投降归附。窦建德自从进犯殷州之后，就跟王世充结下了深深的怨恨，断绝了联系。十一月，窦建德又派人去讲和，并且表示愿意援助王世充。王世充就派遣他哥哥的儿子王琬和内史令长孙安世回访，请求出兵援助。
　　武德四年(621)二月，王世充率领军队出方诸门，跟李唐朝廷的军队对抗，王世充的军队败退，李唐朝廷的军队乘胜追击，在城门外驻守，王世充的步兵不能进城，惊恐溃散向南逃跑，李唐朝廷的军队追杀了几千人，俘虏了五千多人。王世充从此以后不敢再出城，只是环城固守，等待窦建德的救援。三月，秦王在武牢活捉了窦建德和王琬、长孙安世等人，回到洛阳城外把他们给王世充观看，并且派长孙安世进城，让他去讲失败的情况。王世充惊慌疑惑，不知道怎么办，打算冲出包围，向南逃往襄阳，跟将领们商议，都不应声，只得统领文武官员到秦王的军营门前请求投降。于是没收王世充库存的财物，颁发赏赐秦王的官兵。王世充的黄门侍郎薛德音由于在他草拟的文书中写了大不恭敬的话，最先杀掉，接着拘捕王世充的同党段达、杨汪、单雄信、阳公卿、郭士衡、郭什柱、董浚、张童仁、朱粲等十多人，都绑赴洛水的小洲上斩首示众。
　　秦王把王世充带到长安，高祖历数他的罪行，王世充回答说：“按照我的罪过，实在是死有余辜，但您的爱子秦王曾许诺不杀我。”高祖于是释放了他。他和哥哥王絏、老婆、孩子一起流放蜀州，正准备动身，就被仇人定州刺史独孤修杀死。他的儿子王玄应和哥哥王世伟等人在流放途中阴谋叛乱，受了死刑。王世充从篡夺杨侗的帝位，共三年时间就灭亡了。 
　　窦建德，贝州漳南县人。年轻时，把履行诺言看得很重。曾经有个同乡死了父母，家境贫寒无力安葬，当时窦建德正在耕田，听到后直叹气，立即放下农活，主动送去办理丧事所需要的全部财物，因此深受乡亲们称赞。原先，他当过里长，因犯法逃出去了，碰到朝廷大赦天下才回家。他父亲去世，送葬的有一千多人，凡是有人送礼，一概辞谢而不接受。
　　隋炀帝大业七年(611)，朝廷招兵征讨高丽，郡里挑选勇敢优异的人当小帅，于是委任窦建德为二百人长。当时山东发生水灾，百姓大多逃荒去了，同县有个孙安祖，房屋财产被洪水冲走，老婆孩子饥饿而死。县里看上孙安祖骁勇，也把他选进了队伍。孙安祖以家庭贫穷为理由不愿入伍，向漳南县令当面申说，县令大发脾气狠狠打他，孙安祖杀死县令，逃跑投奔窦建德，窦建德收留了他。这一年，山东大闹饥荒，窦建德对孙安祖说：“文帝在位时，天下富裕兴旺，派出百万人马征讨辽东，尚且被高丽打败。今年发生水灾，百姓贫困，但皇上不体恤民情，要亲自到辽东督战，加上往年西征，损伤的元气还没有恢复，百姓疲劳困乏，连年征战，长年在外的人不能回家，如今又要出兵，容易酿成动乱。男子汉大丈夫只要不死，就该建功立业，怎能去当仓皇逃跑的俘虏啊。我熟悉高鸡泊面积辽阔方圆几百里，湖沼上的蒲草又密又深，可以到那里去隐藏起来，找机会出来抢劫，足够生活、积蓄，拉起人马以后，等待时局动荡，必然干出一番惊天动地的大事业。”孙安祖赞同他的计划。窦建德招集引诱逃避征兵和没有家产的，得到了几百人，让孙安祖带领，进高鸡泊当草寇，孙安祖自称将军。俞阝县人张金称也邀集了上百人，在黄河的险要水域活动。艹..县人高士达又兴兵造反招集了一千多人，在清河郡一带活动。当时往来于漳南县境的各股盗匪，沿路屠杀抢劫当地百姓，焚烧房屋，惟独不到窦建德的家乡骚扰。因此郡里县里料定窦建德跟盗匪们相互勾结，就拘捕了他的家属，不论老少都杀掉了。窦建德听到他全家已被杀光，率领他手下的两百人逃跑投靠了高士达。高士达自称东海公，任命窦建德为司兵。后来孙安祖被张金称杀掉，他的几千名士卒又全部投奔窦建德。从此逐渐壮大，队伍发展到一万多人，还是在高鸡泊一带活动。他往往拿出身上的所有财物接济别人，跟士卒一样吃苦耐劳，因此能激发人们为他拼命。
　　大业十二年(616)，涿州通守郭绚率领一万多人马到高鸡泊讨伐高士达。高士达自己知道智慧谋略不如窦建德，就提升他为军司马，把军权全部交给了他。窦建德初次统领兵众，想建立奇功来显示自己的威严，请高士达守卫军用物资，自己精选强兵七千人抵御郭绚，假装跟高士达闹矛盾而叛离他。高士达又宣扬说窦建德叛逃，还拉出一名俘虏来的女人诈说成窦建德的妻子，当着留守部队的面杀掉。窦建德装假派人送信给郭绚请求投降，愿意当先头部队，打败高士达来为自己报仇。郭绚相信了，就带领军队跟随窦建德来到长河边界，准备跟他订立盟约，共同设法干掉高士达。郭绚的军队更加松懈而不做防备，窦建德突然攻打他们，大败郭绚，杀死俘获几千人，得到战马一千多匹，郭绚带着几十个人悄悄逃走，派遣部将一直追赶到平原县，斩下他的首级进献给高士达。从此窦建德的权势更加提高。
　　杨隋朝廷派太仆卿杨义臣率领一万多人讨伐张金称，在清河打败了他，抓到张金称的士卒都杀掉了，逃散在湖沼中的残兵又集合起来投奔窦建德。杨义臣乘胜进军来到平原县，准备打进高鸡泊里，窦建德对高士达说：“数遍隋朝的所有将领，会打仗的只有杨义臣。刚刚打败张金称，长途跋涉进攻我们，他们的锐气是不可抵挡的，请让我带着军队避开他们，使他们想打又打不到，白白地拖他几个月，等他的将士们疲劳厌倦了，乘机打他个猝不及防，可以夺取大的胜利。如果眼下跟他争高低，只怕您抵挡不住。”高士达不听他的意见，便留下窦建德守卫大本营，自己率领精兵迎战杨义臣，初战取得小小的胜利，就纵情喝酒大摆筵席，产生了轻敌思想。窦建德得知后说“：东海公还没有打败敌人就自高自大，灾祸过不几天就会来了。隋朝的军队乘胜追击，必然径直打到这里，人心震惊恐惧，我怕守不住了。”于是留下人马守卫军营，自己带领精兵强将一百多人占据险要位置，以防高士达吃败仗。过了五天，杨义臣果然大败高士达，在战场上斩杀了他，乘胜追击，就要围攻窦建德。军营的守兵本来就少，听说高士达已被打败，大家都四散逃跑了。窦建德带着一百多人逃走，到了饶阳县，见没有防备，就打下了，安抚城里的士民百姓，很多人愿意跟随他，又有了三千多人马。
　　开始，杨义臣杀掉高士达后，认为打败窦建德没有问题。窦建德却乘其不备返回平原县，收拾跟随高士达战死者的遗体，都掩埋好，还为高士达举行葬礼，全军穿起白色的丧服。又招集逃散的士卒，得到几千人，军队又振奋起来，窦建德开始自称将军。当初，匪徒们捉到隋朝的官吏和当地士绅全都杀掉，惟独窦建德捉到他们，一定以礼相待。最初得到饶阳县的长官宋正本，当作贵客，跟他商讨大计方针。此后隋朝郡县的长官逐渐地献城投降他，军队气势更加兴旺，精兵强将十多万人。
　　大业十三年(617)正月，在河间、乐寿两县的交界处设立祭坛举行典礼，自称长乐王，年号就用这年的干支叫丁丑，设置机构委任官吏。七月，杨隋朝廷派遣右翊卫将军薛世雄率领三万人马讨伐窦建德，到河间城南边，在七里井扎营。窦建德听说薛世雄来了，挑选几千名精兵埋伏在河间县南部边界的沼泽里，各城镇的守军全部拔营伪装偷跑，说是躲进豆子..湖里。薛世雄以为窦建德害怕自己，并不构筑军事设施。窦建德探清这些情况，亲自率领一千名敢于死拼的士卒袭击薛世雄。碰上遍地浓雾，两军辨认不清，隋军撒腿就跑，自相践踏，死了一万多人，薛世雄带着几百人逃走，剩下的部队全被打败。窦建德接着攻打河间县城，多次进攻没有打下。后来城里粮食光了，又得到炀帝被杀的消息，河间郡丞王琮带领官吏向百姓宣告噩耗，窦建德派遣使者进城表示哀悼，王琮乘机托付使者请求投降，窦建德后退三十里办好酒席等着他。王琮带着官吏们身穿白色丧服、双手反绑在背后来到军营门前，窦建德亲自为他们松绑，跟他们谈论隋朝灭亡的事，王琮低头弯腰伤心痛苦，窦建德也为此而抽泣。有的将领向窦建德提议说：“王琮长时间地抵抗我军，被杀受伤的人很多，没有办法才出城投降，我们要求煮死他。”窦建德说“：这是一位有节操的人。正好予以提拔任用，以便鼓励忠心侍奉国君的人，怎么能够杀他。从前在高鸡泊一起当盗匪，也许可以随便杀人，如今要稳定百姓平定天下，怎能伤害忠良呢？”于是在军队里传布命令说“：以前跟王琮有仇的人，如今敢于煽动人心，罪灭三族。”当天任命王琮为瀛州刺史。开始以乐寿为都城，取名叫金城宫，从此攻占了很多郡县。
　　唐高祖武德元年(618)冬至那天，窦建德在金城宫聚会文武官员，有五只大鸟降落在乐寿城，几万只鸟雀跟着飞来，整整过了一天才飞走，因此改取年号为五凤。有一个宗城人进献一枚玄王圭(黑色玉)，景城丞孔德绍说“：古时夏禹亲受符命，上天赐给玄王圭。现在吉兆跟夏禹一样，应当称为夏国。”窦建德听从了这个建议。在这之前，上谷郡的贼军统帅王须拔自称漫天王，聚集几万人马，进犯幽州，中箭而死。副将魏刀儿接替统率这支人马，自称历山飞，盘踞在深泽县，有十万人马。窦建德跟他订立和约，魏刀儿就对他放松了防备，窦建德突然袭击，打败了他，吞并了他的全部地盘。
　　武德二年(619)，宇文化及在魏县僭越称帝，窦建德对他的纳言宋正本、内史侍郎孔德绍说“：我当隋朝的百姓几十年了，隋朝当我的君主有两代了。现在宇文化及杀害了炀帝，大逆不道，他就是我的仇敌了，请让我和各位一起讨伐他，怎么样？”孔德绍说：“如今国家没有君主，英雄豪杰竞相逐鹿，大王您以普通百姓的身份从漳浦起兵，隋朝郡县的官员没有谁不抢着归附您，是因为您凭倚天意顺应民心行动，用礼义安定天下。宇文化及跟朝廷是姻亲关系，父子兄弟都得到隋朝的恩惠，身居不可比拟的高官，却干出杀君叛逆的坏事，篡夺隋朝的皇位，是天下的公敌。对这样的人不给惩处，怎么履行您身为义军领袖的责任？”窦建德说好。当天就带领部队讨伐宇文化及，连续几仗大败宇文化及。宇文化及退守聊城，窦建德放抛石车投掷石块，装置极端灵巧，四面攻城，终于攻陷。窦建德进城之后，先去拜见萧皇后，跟她讲话自己称臣。拘捕杀害炀帝的全部主谋人宇文智及、杨士览、元武达、许弘仁、孟景，召集隋朝文武官员核对之后就斩下首级，挂在辕门之外示众。宇文化及连同他的两个儿子一起关进槛车，拖到大陆县杀了。
　　窦建德每当攻陷城镇打败敌军，所得到的财物，一起分发奖赏给各位将领，自己一样东西都不要。又不吃肉，日常吃的只是蔬菜、脱皮粟米饭。他的妻子曹氏不穿丝织衣裳，小妻、侍女只有十几人。进聊城后，得到上千名宫女，都有姣艳的容貌姿色，当即遣散。得到隋朝文武官员和骁勇果敢的武士上万人，也遣散，听凭他们到哪里去，还任命隋朝的黄门侍郎裴矩为尚书左仆射，兵部侍郎崔君肃为侍中，少府令何稠为工部尚书，其他人按照才能专长授予官职，交付实权。他们中有想到关中和东都去投奔别人的，照样发给足够的衣物食粮，派兵护卫，送出辖区。打下氵名州，俘虏氵名州刺史袁子干。都城迁到氵名州，叫万春宫。派人到灌津，为他父亲窦青祭扫坟墓，安排二十家人家看护墓地。又跟王世充结为友好，派遣使者到洛阳朝拜隋朝越王杨侗。后来王世充废除杨侗自立为帝，就跟他绝交，开始妄自尊大，设置天子的旌旗仪仗，外出就要布置警戒禁止行人，所发文告称为诏书。给隋炀帝追谥号为闵帝，封齐王杨日柬的儿子杨政道为郧公。然而还是依靠突厥，隋朝义城公主先前嫁到突厥，到这时派遣使者迎接萧太后，窦建德率领一千多人马护送她到突厥去，还传递宇文化及的首级向义城公主献礼。同突厥相互联合之后，军队的锐气更加旺盛。
　　同年九月，向南进犯相州，河北大使淮安王李神通抵御不住，撤退到黎阳。相州被攻破，杀掉刺史吕珉。接着进攻卫州，打下黎阳，唐朝左武卫大将军李世责力、高祖皇妹同安长公主和李神通一起被俘。滑州刺史王轨被奴仆杀死，奴仆带着他的首级投奔窦建德，窦建德说：“奴仆杀主人是犯大逆不道的罪行，我怎能收留他。”下令立即处斩奴仆，而把王轨的首级送回滑州。滑州的官吏百姓为之感动，当天就投降了。齐州、济州以及兖州叛军统帅徐圆朗等都闻风而降。窦建德释放了李世责力，派他带领部队镇守黎州。
　　武德三年(620)正月，李世责力撇下父亲逃回李唐朝廷去了，执法官吏请求杀掉他的父亲，窦建德说：“李世责力本来是唐朝廷的臣子，被俘以后，不背叛他的国君，逃回他自己的朝廷，这是忠臣，他的父亲有什么罪过？”一直没有杀他。把同安长公主和李神通安排在客馆居住，以宾客的礼仪对待他们。唐高祖派遣使者跟窦建德缔结和好，窦建德立即让同安长公主跟使者一起回去。曾经攻陷赵州，捉住赵州刺史张昂、邢州刺史陈君宾、大使张道源等人，由于突然袭击窦建德辖区的边境，窦建德就要杀掉他们。国子祭酒凌敬劝谏说“：狗子对不是它主人的人都会吠叫，现在邻居防守牢固，因力量用尽而被俘，这才是忠诚可靠的男子汉。如果处死他们，怎么勉励大王您的臣下们呢？”窦建德大怒说“：我已兵临城下，他还执迷不悟不肯投降，使我的部队吃了苦头，死罪怎么能够赦免？”凌敬又说“：如今您派大将军高士兴在易水抵御罗艺，罗艺军队才到，高士兴就投降，您又认为行不行呢？”窦建德这才明白，就下令放了他们。他宽容厚道听从劝谏，大多是像这种情况。
　　又派遣高士兴进军围攻幽州，没有获胜，撤退到笼火城，遭到罗艺袭击，高士兴的士卒顿时逃散。在这之前，高士兴的大将王伏宝有勇有谋，在同辈中功劳第一，将领们妒忌他。有人散布他要反叛，窦建德就要杀他，王伏宝说“：我是无罪的，您怎么听信那些中伤我的话，自己砍掉自己的左右手啊？”还是杀了他，后来打仗经常失利。
　　同年九月，窦建德亲自统帅部队围攻幽州，罗艺出兵跟他作战，大败窦建德，斩杀一千二百人。罗艺多次获胜骄傲起来，进军袭击窦建德的军营，窦建德在营地摆好阵式，顺着战壕冲出，打败了罗艺。窦建德逼近幽州，没有获胜，就回师氵名州。他的纳言宋正本爱直言劝谏，窦建德又听信别人中伤他的话而杀了他。此后人们把这当作教训，没有人再进忠言，从此刑赏教化更加衰微。
　　从前，曹州济阴县人孟海公聚集了三万精兵，占据周桥城到黄河以南进行掳掠。那年十一月，窦建德亲自率领军队渡过黄河攻打他。当时秦王李世民在洛阳进攻王世充，窦建德的中书舍人刘斌对他分析说：“现在唐(李渊)占据关中，郑(王世充)占据河南，我们(夏)占据河北，这是鼎足三立相互对峙的局势。听说唐用全部兵力攻打王世充，连头连尾两年时间，郑的形势一天比一天紧急，而唐的围攻毫不放松。唐的兵力强、郑的兵力弱，发展趋势必然是打败王世充，王世充被打败，那么我们就有唇亡齿寒的忧虑。为您着想，不如援救王世充，王世充在里边抵御，我们在外边进攻，打败唐军是一定的了。如果打走了唐军保全了王世充，这是长期保持鼎足三分局面的战略。如果唐军被打败后，王世充也可打败，那么就乘机消灭他，集中我们和王世充的兵力，乘着唐军战败的时机，直向西打，长安就能到手，这是平定天下的基础。”窦建德非常高兴说“：这才是好谋略啊。”恰好这时王世充派遣使者向窦建德要求出兵援救，就派遣职方侍郎魏处绘到长安朝见唐高祖，请求解除对王世充的包围。
　　武德四年(621)二月，窦建德攻克周桥城，俘获孟海公，留下部将范愿守卫曹州，带领孟海公和徐圆朗的全部人马来援救王世充。军队走到滑州，王世充的行台仆射韩洪打开城门迎接，于是进逼元州、梁州、管州，都打下了，聚集在荥阳。三月，秦王到了武牢，接近窦建德的军营，杀伤杀死不少的人，并捉拿了他的部将殷秋、石瓒。当时王世充的弟弟王世辨任徐州行台，派遣他的部将郭士衡带领几千人跟随窦建德，集中人马十多万，号称三十万，军队驻扎在成皋，在板渚修建营房，以示决战。又派遣密使约定王世充里外夹攻。经过两个月的战斗，逼近武牢，就不能继续前进。秦王派遣将军王君廓带领轻装骑兵一千多人绕到窦建德的背后袭击他的运粮队伍，捉住大将张青特，俘虏士卒很多人。
　　窦建德多次失利，人心惊恐不安，上到将帅，下到士卒，打败孟海公时，都有收获，想回氵名州。凌敬提议说：“应当全军渡过黄河北上，攻占怀州河阳，安排主将镇守。再率领大队人马击鼓举旗，跨越太行山，开进上党县，虚张声势隐藏目的，不必麻烦作战。加速赶到壶口，逐渐惊扰蒲津，夺取河东土地，这是上策。实行这个方针定有三条好处：一是到无人防守的地方，军队万无一失；二是扩大地盘招募兵卒；三是唐军对王世充的包围自己就会解除。”窦建德准备采纳这个建议，但是王世充的使者长孙安世私下送给金银珠宝利诱各个将领，来扰乱他的决策。各个将领全都劝谏说“：凌敬不过是个书生，怎能跟他谈打仗呢？”窦建德听从了他们的意见，回头向凌敬道歉说：“现在群臣振奋，这是老天助我。凭这决战，必定会大获全胜。我已听从了大家的意见，不能照您的话办了。”凌敬坚持争辩，窦建德很生气，强制撑持着走了。他的妻子曹氏又对窦建德议论说“：祭酒凌敬的意见可以采纳，您为什么不采纳呢？请您沿着滏口那条路，乘着唐朝兵力空虚，集中兵力加速前进，以便夺取山北的土地，再凭借突厥的力量向西包抄关中，唐朝廷必然招回军队保卫自己，那么对王世充的包围就解除了。如今部队滞留在武牢城外，时间拖得长了，白白地自己劳苦自己，事情只怕办不成。”窦建德说“：打仗不是女人过问的事。再说郑国命在旦夕，等待我们快去，既然答应援救他们，怎能碰上困难就退走，向天下表明我们说话不算话呢？”于是全部人马压向武牢，唐军按兵不动以挫伤窦建德的锐气。
　　等到窦建德把人马聚集在汜水，秦王派遣骑兵去挑战，窦建德发兵进攻，秦王派窦抗抵挡。窦建德渐渐后退，秦王派遣骑兵冲进敌阵，反复鏖战四五次，最后大败窦建德。窦建德被枪刺中，逃跑到牛口渚，车骑将军白士让、杨武威活捉了他。在这之前，部队里头传开童谣说：“豆入牛口，势不得久。”窦建德走到牛口渚，非常憎恶它，果然失败在这个地方。
　　窦建德所带领的人马，一下子就逃散了，妻子曹氏以及他的左仆射齐善行率领几百人逃回氵名州。剩余的党徒想立窦建德的养子为君主，齐善行说：“夏王平定了河北，兵强马壮，一下子就被捉走了，难道不是天命注定的吗？不如一心请求唐朝保全大伙儿的生命，不要给老百姓造成灾难困苦。”于是把库存的财物全部分发给士卒，让他们各自离开。齐善行这才跟窦建德的右仆射裴矩、行台曹旦以及窦建德的妻子带领夏国的官员属吏进献山东的土地，交出夏国的八枚印章向唐朝投降。七月，秦王把窦建德押到京城，在长安市斩首，时年四十九岁。从起事到灭亡，共六年，河北全部平定。当年，刘黑闼又窃据山东。
