却说诸葛亮领兵伐魏，已出汉中，屯驻石马城。魏主曹叡，甫经嗣位，改元太和，闻得蜀兵进攻，即欲亲出御敌。散骑常侍孙资，谓南郑斜谷，险阻异常，不宜劳师进取，但命大将据守要害，自足震慑寇敌，静镇疆场，叡乃罢议。但进抚军将军司马懿，为骠骑大将军，都督荆豫二州诸军事，屯兵宛城，堵御东西。大将军曹真，都督关右，专拒蜀兵。新城太守孟达，本来由蜀投魏，孟达降魏事，见第九十回。与魏侍中桓阶，将军夏侯尚友善，尚阶相继病殁，达心不自安。事为诸葛亮所闻，嘱中都护李严招达，达复书如命；偏魏兴太守申仪，与达有隙，时常侦伺，一闻达阴通蜀使，即报知曹叡，叡令司马懿相机进讨。懿佯为慰解，暗中却调动兵马，潜赴新城。达得懿书，迟疑未决，因遣人访问诸葛亮。亮令达赶紧加防，毋堕懿计。达尚复书与亮道：“宛城距洛阳八百里，至新城且一千二百里，若司马懿前来，亦当表闻魏主，往返须一月间事，达城池已固，自足拒懿，幸请放怀。”这书递至石马城，亮阅毕惊叹道：“达必为司马懿所擒了！”果然不到半月，便由达飞书乞援，内称达举事八日，懿兵即到城下，神速异常，请即发兵相救。亮又叹为无及，不得已派遣偏师，往援新城。兵方就道，孟达败死的消息，便即传到，亮乃将偏师调回，合力北向。行至南郑，镇北将军魏延出迎，亮即使延为丞相司马，统领前军。延献议道：“魏令夏侯惇都督长安，楙系掯子，曾娶操女为妻，年少志骄，毫无谋略，延愿得精兵五千，取道褒中，沿秦岭东进，绕出子午谷，不过旬日，可到长安；楙闻延掩至，必不敢持久，弃城东走，丞相可从斜谷，进与延会合，并力一举，咸阳以西，便可平定了。”计却甚是。亮摇首道：“此计甚危，不如安从坦道，方保万全。”延又说道：“丞相从大道进兵，彼必沿路防守，旷日持久，何时得取中原？”亮慨叹道：“天若祚汉，何患不胜？”遂不从延计，延怏怏退出。暗伏下文。亮佯言由斜谷取郿，却使赵云为镇东将军，邓芝为扬武将军，据住箕谷，作为疑兵；一面亲率诸军，进攻祁山，队伍整齐，号令严肃。南安天水安定三郡，闻风请降。惟天水太守马遵，正与参军姜维，功曹梁绪等，案行属县，闻得蜀兵已至祁山，郡县响应，料知无路可归，拟往投上邽，维劝遵仍归郡治，遵疑维有异志，夤夜自去。维还至天水郡中，吏民已相率降蜀，闭门拒维，害得维进退维谷，没奈何奔投蜀营。维本天水郡冀县人，字伯约，少读兵书，熟谙韬略。亮引与共语，皆中机要，当然心喜，遂举维为仓曹掾，加号奉义将军。事依《姜维本传》，不同罗氏《演义》。
魏大将军曹真，方督兵守郿，哪知蜀兵却西出祁山，连下南安天水安定三郡，急切无分身法，只好飞报魏主，请派将扼守关西。魏主雊遂起兵五万，使右将军张郃为前驱，自为后应，同至长安，并调司马懿由东会师，共击蜀兵。蜀将马超，时已早殁，不略马超。只有超从弟马岱，从军出征，岱勇略不及马超，虽为蜀将，未堪大任，故亮得三郡，不复令再镇凉州。会亮闻张郃司马懿合兵来攻，遂召诸将与语道：“魏兵两路前来，必攻街亭，街亭为汉中咽喉，非得大将把守，不能无虞。”参军马谡，正随亮北伐，便向前请命道：“谡愿往守街亭。”魏延吴懿，亦愿前往，亮因谡素有智略，不致误事，遂使谡统兵二万人，出屯街亭。临行时再三叮嘱，叫他坚守城寨，毋得疏忽；且使王平为偏将军，与谡同往；又遣魏延等往驻阳平关，遥应马谡。也算严密。谡与王平行至街亭，见街亭前面有山，便欲引兵登冈，据山立寨。平独谓宜据城守栅，阻住敌锋，不宜屯兵山上，谡傲然不从。平复说道：“倘敌兵前来围山，计将若何？”谡笑答道：“居高临下，势若建瓴，敌若来围，我即麾兵四下，还怕不能杀退么？”平又说道：“倘敌兵断我水道，又将若何？”谡大笑道：“我既能杀退敌兵，还怕他断甚么水道？”平还要苦谏，谡瞋目道：“丞相行事，尚且每事问我，汝怎得挠我兵谋？”也是误一“骄”字。平知不可阻，乃请分军相应，作为犄角。谡恨平违令，只拨兵千人给平，平引兵据城听令。马谡上山，平遣人走报祁山大营。哪知司马懿张郃两军，夤夜杀到，谡尚据住山顶，扬旗招飐，自鸣得意。待至翌晨，魏兵已环集山麓，把山围住，谡麾兵杀下，魏兵全然不动，惟用强弩仰射，蜀兵多被射倒，只好退回。谡尚欲与敌拚命，驱兵再下，一连冲杀数次，毫无效力。张郃更堵住水道，不放蜀兵汲水，蜀兵无从饮食，当然自乱。嚷至夜半，竟纷纷下山，投降魏营，谡禁遏不住，尚望王平救应。看官试想：平手下只有千人，哪里杀得过十多万魏兵？他也曾努力相救，半途被魏兵截回，没奈何坚壁自持，保全危寨。谡待援不至，无法把守，只得率兵窜出山谷，向西逃走。魏兵截杀一阵，二万人所存无几，还亏魏延从阳平关杀来，方得将谡救出。延见魏兵气势甚盛，不敢恋战，忙与谡退保阳平关。王平自知难守，在城中佯鸣鼓角，作进兵状，暗中却收集溃卒，徐徐退去。魏将张郃，疑他诱敌，不敢进逼，平得全师引归。好王平。
司马懿不去追谡，却统兵径趋祁山，来攻诸葛亮大营。亮接王平军报，已知马谡误事，急忙退回西城，且檄令天水诸郡守吏，齐回汉中，并饬赵云邓芝，收军还阳平关。忽报司马懿统兵十余万，蜂拥前来，城中留兵不多，欲趋往阳平关，已是不及。将士等并皆失色，亮独谈笑自若，但说无妨。如此镇定，方可将兵。待懿兵将到，传令城上偃旗，城中息鼓，大开四门，每门令军役洒扫，不准妄动，自引小僮两人，携琴登城，在城楼上焚香操琴。有胆有识。司马懿当先跃马，来攻西城，遥见诸葛亮如此布置，不禁大疑，端详了好多时，一些儿没有破绽，乃麾令退兵。部将问为何因，懿与语道：“我闻亮不入子午谷，煞是谨慎；今大开城门，岂肯这般疏略？明明是诱我入城，为掩杀计。我宜速退，休为所算。”说毕自去。亮见司马懿退兵，不由的鼓掌大笑。参佐问亮道：“司马懿号称能军，为何忽来忽去？”亮笑说道：“懿知我谨慎，不肯弄险，他见我如此模样，必疑有伏，所以退去；我料他不走大路，必沿北山遁去，今还要送他一程，截留一些辎重，也不负他一番奔走哩。”说着即派部将吴懿等，速赴北山，只准在山谷中呐喊，不准厮杀，如敌有辎重，即可夺取，运回阳平关便了。吴懿等奉命即行，亮率参佐等出了西城，赶归阳平关。那司马懿果为亮所料，绕走北山，蓦闻后面喊声大震，总道是蜀兵追来，慌忙抛弃辎重，没命跑去。吴懿等谨依将令，不敢追袭，但将辎重运回阳平关。亮已退入阳平关内，由魏延马谡等接着。谡跪伏请罪，亮作色道：“汝违我节度，几至倾覆全师；若非明正军法，何以服众？”谡泣答道：“丞相视谡如子，谡亦视丞相如父，今自知偾事，罪该万死；但愿丞相思殛鲧兴禹故事，谡虽死，亦感深恩。”亮不禁挥泪道：“汝若早听王平计议，何致此败？今事已至此，不能挠法，汝家小自当抚恤，汝子与我子相等，不必挂怀。”说至此，即令左右将谡推出；斩首徇众，仍令缝合尸骸，具棺埋葬；且亲自临祭，月给谡家钱米，抚养遗孤。先公后私。亮更太息道：“先帝尝谓谡言过实，不可大用，今果应此言，自愧不明，致误军事。谡果有罪，我亦难辞。”遂拟上表自劾，可巧赵云邓芝，自箕谷退归，缴还军令，云自言无功，应受惩戒。亮问明邓芝，芝言魏将曹真，率兵追袭，幸由云亲身断后，步步为营，始得全军归来。亮欷歔道：“街亭军退，兵将不复相顾，箕谷军退，兵将并不相失，可见用兵在人，原不在多寡呢。”云尚有军资带还，亮使分赏将士。云答称军士无利，何为有赏？且暂贮库中，作为冬赐；亮点首称善。因即表请自贬，云亦附表请惩。后主得表，召问蒋琬费祎，祎等谓应从亮言，暂行降职，乃贬亮为右将军，行丞相事；降赵云为镇军将军，使蒋琬赍诏至营。亮受诏后，留琬共饮，琬语亮道：“昔楚杀得臣，晋文公然后心喜；今天下未定，邃杀马谡，自失智士，岂不可惜？”亮流涕答道：“孙武所以能制胜天下，全赖法严；今四海分裂，兵交方始，若复废法，何以治军？”琬劝亮回成都，亮摇首道：“奉诏讨贼，奈何罢休？”琬复说道：“如再欲伐魏，必须增兵。”亮怅然道：“街亭败退，非由兵少，实由亮误用马谡，致有此败；不肯讳过。今当减兵省将，明罚思过，惩覆辙，慎将来，且望在朝诸公，勤补吾阙，然后事可定，贼可灭，功可𫏋足而待了。”琬当然佩服，旋即辞去。亮乃考劳勚，扬壮烈，引咎责躬，厉兵讲武，再作后图。既而吴鄱阳太守周鲂用诈降计诱魏攻皖，魏扬州牧曹休，误听鲂言，当即发兵；魏王曹叡，又使司马懿向江陵，建威将军贾吴兵邀击石亭，大破休军，休奔回夹石。又由吴兵追及，险些儿不能脱身，还亏贾逵兼道援休，才得幸免；所有军士粮械，丧失垂尽。司马懿中道折还，休惭愤成疾，疽发背上，不久即死。继任为魏将满宠，老成持重，控御有方，遂成重镇。独诸葛亮闻吴人败魏，复欲乘隙北伐。正要调动军马，不料镇军将军赵云病亡，亮大为恸惜，后主禅亦甚悲悼，两次救护，安得不悲？追谥云为顺平侯，令云长子统袭封。群臣谓失一大将，不宜兴师，独诸葛亮锐意北伐，未肯中止。乃更上表奏闻道：
先帝虑汉贼不两立，王业不偏安，故托臣以讨贼也。慷慨激昂。以先帝之明，量臣之才，故知臣伐贼，才弱敌强也。
然不伐贼，王业亦亡；惟坐而待亡，孰与伐之？是故托臣而勿疑也。臣受命之日，寝不安席，食不甘味，思惟北征，宜先入南，故五月渡泸，深入不毛，并日而食，臣非不自惜也。顾王业不可偏安于蜀都，故冒危难以奉先帝之遗意，而议者谓为非计；今贼适疲于西，又务于东，兵法乘势，此进趋之时也。谨陈其事如左：高帝明并日月，谋臣渊深，然涉险被创，危然后安。今陛下未及高帝，谋臣不如良平，而欲以长策取胜，坐定天下，此臣之未解一也。刘繇王朗，各据州郡，论安言计，动引圣人，群疑满腹，众难塞胸，今岁不战，明年不征，使孙策坐大，遂并江东，此臣之未解二也。曹操智计殊绝于人，其用兵也，仿佛孙吴；然困于南阳，除于乌巢，危于祁连，逼于黎阳，几败北山，殆死潼关，然后伪定一时尔；况臣才弱，而欲以不危而定之，此臣之未解三也。曹操五攻昌霸不下，四越巢湖不成，任用李服，而李服图之，委任夏侯，而夏侯败亡；先帝每称操为能，犹有此失，况臣驽下，何能必胜？此臣之未解四也。
自臣到汉中，中间期年耳；然丧赵云阳群马玉阎芝丁立白寿刘郃邓铜等，及曲长屯将七十余人，突将无前，㧑叟青羌散骑武骑一千余人，此皆数十年之内，所纠合四方之精锐，非一州之所有；若复数年，则损三分之二也，当何以图敌？此臣之未解五也。今民穷兵疲，而事不可息，事不可息，则住与行，劳费正等，而不及早图之，欲以一州之地，与贼持久，此臣之未解六也。夫难平者事也，昔先帝败军于楚，当此时，曹操拊手，谓天下已定。然后先帝东连吴越，西取巴蜀，举兵北征，夏侯授首，此操之失计，而汉事将成也。然后吴更违盟，关羽毁败，秭归蹉跌，曹丕称帝。凡事如是，难可逆料，臣鞠躬尽瘁，死而后已。注重在此二语。至于成败利钝，非臣之明，所能逆睹也。
这道表文，蜀人称为“后出师表”，后主惟亮是从，随即批准。亮复引兵数万，道出散关，进围陈仓。魏大将军曹真，使将军郝昭，守陈仓城。昭字伯道，太原人氏，知兵善战，智勇兼全。智能敌蜀，勇足保城，故特详叙履历。既至陈仓，当即缮城修郭，筹足守具，及亮兵攻城，已是坚固得很。亮累攻不下，特遣郝昭乡人靳详，诣城下招降，昭在城楼上应声道：“魏家科法，君所深知，我已为魏臣，誓死毋惑，请君不必多言。但教回报诸葛，能攻即攻，不能攻即退。”详知不可动，便还营告亮。亮再遣详至城下，与语顺逆利害，毋贻后悔，昭奋然道：“前言已定，何劳再说！我与君原是相识，恐箭头无眼，不能识君呢。”说至此，即拈弓搭箭，欲射靳详。详慌忙退回，亮也觉动怒，麾兵猛攻。城上矢石如雨，无隙可乘，亮特制云梯数十具，四面攀登。昭用炙箭注射，梯被烧断，兵皆坠死。亮再用火冲车攻城，昭又用绳索穿石，猛力掷下，冲车皆折。亮更遣人运土填堑，暗掘地道入城，昭内筑重濠，横截地穴，使蜀兵无从钻入。好容易已越兼旬，城完如故。曹真遣将军费耀援昭，魏主叡亦使张郃驰救。亮正虑军食不继，又闻魏兵大至，乃撤围引归，但授魏延密计，使他领兵断后。延徐徐退回，忽后面扬起飞尘，喊声逼紧，料有魏兵追来，延令部兵张旗先行，自率锐骑数十，伏林箐中，静候魏将。魏将乃是王双，望见前面旗帜，挥兵急追。延待他骤马跑过，却握刀突出，大喝一声，不俟王双回头，便从他背后劈去，连肩带头，砍落马下。魏兵见主将毙命，当然骇散。延得驱杀一阵，枭得许多首级，然后返入汉中，向亮缴令。亮休养月余，又是冬尽春来，时为建兴七年。乃再遣部将陈式，出攻武都阴平二郡。魏雍州刺史郭淮，引兵驰援，与陈式相持数日；亮用奇兵助式，击退郭淮，遂得攻下二郡城池，留将把守，自回汉中。后主禅复拜亮为丞相，亮尚固辞，经诏使费祎相劝，然后受命。嗣闻吴主称帝，遣使至蜀，拟与蜀平分中原。蜀臣聚讼纷纭，多主绝交，亮仍拟和吴，入都觐见后主；后主正因吴事未决，向亮谘问。亮陈议道：“孙权意图僣号，非自今始，我朝与他修好，无非为声援起见；今若加显绝，仇我必深，更当移兵东戍，与彼角力，彼贤才尚多，将相辑睦，划江自固，守御有余，我却屯兵上游，坐而待老，反使北贼得计，甚非良图；故不如仍与周旋，俟北伐得志，东略未迟。”后主唯唯受教，遂使卫尉陈震，往吴庆贺，权依礼相待，与申盟誓，约定平魏以后，豫青徐幽四州归吴，兖冀并凉四州归蜀，惟司州以函谷关为界，震如约西归。当时三国鼎峙，魏地最大，有州十三，除上文所说九州外，尚有荆扬秦凉四州，但只得片土，未据全境。吴只有荆扬交广郢五州，荆扬且与魏分据。蜀土最小，仅得遂州，惟分益为梁；又得凉交二州边隅，算作四州。从前汉武帝时，分中国全土为十三郡，不列郢广，郢广二州名，乃是由吴分置出来。详明地理，万不可少。吴孙权久欲称帝，因畏魏东下，所以迟迟；及见魏兵东西致败，乃放胆称尊。吴臣趁势献谀，谓有黄龙出现武昌，因即改黄武八年，为黄龙元年，追尊父坚为武烈皇帝，兄策为长沙桓王，立子登为太子，进陆逊为上大将军，诸葛恪为太子左辅，张休为太子右弼。休为张昭少子，昭已年老，入朝贺权，褒赞功德。权笑说道：“假使如张公计，早为魏仆，恐今已乞食了。”指赤壁事。说得张昭伏地惭汗，谢罪而出。当即上书乞休，由权封为娄侯，食邑万户，归家不起，又得享寿八年，至八十一岁乃终。权复还都建业，留上大将军陆逊，辅太子登，驻守武昌。这消息传入蜀都，诸葛亮因权还江东，更可免忧，复欲北向讨魏。部署了好几月，已是建兴八年的夏季，忽有警报传入，乃是魏将曹真司马懿两路进兵，来夺汉中。正是：
西陲方见三军集，北寇先闻两道来。
欲知魏兵如何寇蜀，且看下回再详。
甚矣哉，知人之难也！以诸葛孔明之才识，犹且失之马谡，况他人乎？谡前进攻服南蛮之议，为孙吴兵法所未详，乃独出己见，卒如所言，是谡固非不足行军者；且在营参议，语多扼要，而于街亭一役，偏不从孔明之节度，王平之计议，上山被困，坐失要区，论者几目为天命使然。然刘先主尝谓谡言过实，不可大用；孔明误用而偾事，咎有攸归，固不能尽诿诸天也。空城计一事，史传中列入小注，疑为未确。但故老相传已久，不便略去，果有此役，诸葛其亦危矣哉。及再攻陈仓，遇郝昭之善守，累攻不下。惟退兵之时，得斩王双。魏将多才，而蜀仅得一诸葛，至鞠躬尽力而后已。北伐北伐，名称虽正，其如将佐之乏人何也？
