大凡与敌人相攻战，如果遇到下雪不止的天气，侦察确悉敌人麻痹不备时，那就可以偷偷派兵袭击它。这样，敌人的阵势便可被我军打破。诚如兵法所说：“进攻敌人要乘其疏于戒备之时。”唐宪宗元和十二年（公元８１７年）十月，朝廷派遣唐邓节度使李愬率军讨伐割据淮西称雄的吴元济，开始，李愬派部将率千余骑兵巡逻，路遇敌将丁士良所部，双方交战，唐军将其擒获。丁士良是吴元济的一员猛将，经常率兵东进为患，众将恨他而请求剜他的心，李愬同意了。但丁士良面对死亡却毫无惧色，李愬为其精神所感便叫人给他松绑不杀。丁士良因此而表示愿以尽死效力来报答李愬的活命之恩。李愬则任命他为捉生将。丁士良向李愬建议说：“吴秀琳现在据守文城栅，他所处的地位如同吴元济的一只左臂；朝廷军队之所以不敢靠近他那里，是因为有陈光洽为他出谋画策。然而，陈光洽却是勇敢而轻率之将，喜欢孤军出战。请允许我前去把他抓来，这样，吴秀琳将会不战而自动投降。”等到铁文和陈光洽被丁士良活捉以后，吴秀琳果然投降了唐军。李愬请来吴秀琳问以征服吴元济的计策，秀琳回答说：“将军如果一定要击破吴元济的话，非得李祏不可。”李祏，是吴元济的一员健将，既勇敢又有谋略，他长期守卫在兴桥栅，每次作战总是轻视官军。此时李祏正率兵于田野里收割小麦，李愬于是派遣部将史用诚带领三百名壮士埋伏在附近树林中，乘其不备，把李祏活捉而带回军营。唐军将士都争着请求把李祏杀掉，但唯有李愬以待客之礼款待他，并经常与他交谈，其他将领对此都很不高兴。李愬考虑到单凭个人力量无法保全李祏，于是便给李愬戴上刑具派人押送京师长安，此前先秘密写好奏表呈送宪宗说：“如果杀了李祏，平定淮西就无法获得成功。”宪宗阅表后，立即下令将李祏送还李愬。李愬见李祏已经安全回来非常高兴，立即任命他为兵马使，并且准令他可以佩戴腰刀进出自己军帐。（其后，经与李祏密谋）才正式制定了奇袭蔡州的战略计划。于是，李愬命令李祏率领号称“突将”的敢死队三千人为前锋，李忠义为副将；李愬与监军率领三千人为中军主力；李进诚率领三千人为后军担任后卫。部署停当以后，李愬下达命令说：“只管向东前进！”唐军东行六十里时天已黑了，进至张柴村，将该地守军全部歼灭，然后命令部队就地稍事休息，吃些干粮，整理好马笼头、马缰绳、马鞍子以及铠甲、弓箭，兵刃等武器装备。当时，天正下着鹅毛大雪，凛冽刺骨的寒风刮得军旗破碎，冻死的人马随处可见，唐军人人都认为此番必死无疑。这时，众将校请示下一步行军方向，李愬明确而坚定地说：“到蔡州去取吴元济的首级。”众人听后惊惧失色，相对哭泣说：“咱们果然中了李祏的奸计了。”可是，由于大家都敬畏李愬，所以没有敢于违抗命令的。到了半夜时候，雪下得更大。李愬这时一面派遣一支轻装部队南下切断朗山敌人的增援道路，一面出动部分兵力北上卡住洄曲和其它通往蔡州道路上的桥梁。唐军自张柴村折向东南，又走了七十里，进至蔡州城下。该城旁边都是饲养鹅鸭的池塘，李愬叫士兵击打池中处于静止状态的鹅鸭，让它们发出叫声以掩盖唐军行进声响。最初，从吴少诚（吴元济养伯父）雄据蔡州对抗朝廷命令以来，唐军已有三十多年不能进至蔡州城下，所以蔡州人一向不加防备。李祏等率军乘敌酣睡不备，首先登上城墙，部队紧随其后，杀死了守卫城门的敌兵，只留下打更人继续敲梆报更，然后打开城门，唐军全部进入城中。鸡鸣天亮时候，雪已不下了，唐军活捉了吴元济，然后押往京师长安，至此，淮西地区完全平定。
