大凡作战中，如果遇到敌人阵容严整且士气锐盛时，不可贸然与其决战，应当坚守壁垒以待有利时机；等到敌人列阵过久而士气衰落之时，再出兵攻击它，就没有不胜利的。诚如兵法所说：“后发制人是为了等待敌人士气衰落时再攻击它。”唐高祖武德四年（公元６２１年）五月，秦王李世民率军围攻洛阳的王世充，窦建德应王世充之请而率领全部兵马自河北而来援救。李世民率军东进扼守虎牢以阻截窦建德军。窦建德于汜水以东布阵，绵延横贯数里，唐军将领望见此情都面生惧色。李世民亲率数名骑兵登上高冈观察敌阵，回头对将领们说：“窦建德自山东（指太行山以东地区）起兵至今，尚未遇到过强大对手。如今他们越过险要地带而喧闹不止，这说明其军队没有严格的号令；迫近我们城前而布列营阵，这说明其有轻视我军的心理。对此，我们要按兵不与其交战，以等待其士气衰落之时；他们列阵过久而士卒饥疲，必将自行退走，乘其后退而出兵追击，哪有不胜之理！我与诸位约定，一定要在中午刚过之时打败它。”窦建德军从清晨摆开阵势，直到中午时分（也不见唐军出战），士卒们饥疲不堪，个个都无精打彩地坐在队列里，以至又有互相争夺饮水的。李世民（见此情景）便命令宇文士及率领三百骑兵，经敌阵之西向南急驰，并告戒他说：“如果此举仍不见敌军有后退行动，你应引兵退回；如果发觉敌军行动了，就应率兵向东出击。”宇文士及刚过敌阵，敌军果然行动了。李世民这时对部将说：“现在可以出击了。”于是，命令骑兵将领树旗列阵，从虎牢关上以高屋建瓴之势直插南山，沿着山谷向东，袭击敌军背后。窦建德急忙率领其军向后撤退，刚刚退到东山坡处，还未来得及整顿好队伍，李世民已率领轻骑兵冲杀过来。唐军所向之处，敌军无不瓦解溃散。唐军大将程咬金等所率骑兵卷起军旗冲进敌阵，径直突击敌军阵后，齐张旗帜，内外奋击，大败敌军，活捉了窦建德。
